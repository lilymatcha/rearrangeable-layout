(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(e,t,n){},,function(e,t,n){e.exports=n(22)},,,,,function(e,t,n){},,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(6),i=n(1),a=(n(12),function(e){function t(t){return e.call(this,t)||this}return i.b(t,e),t.prototype.render=function(){return o.createElement("div",{className:"droppableRow"},this.props.children)},t}(o.Component)),s=(n(5),function(e){function t(t){return e.call(this,t)||this}return i.b(t,e),t.prototype.render=function(){var e={backgroundColor:this.props.color};return o.createElement("div",{className:"tile",style:e})},t}(o.Component)),l=n(2),c="1",d="2",p=function(e){function t(t){var n=e.call(this,t)||this;n.onDragEnd=n.onDragEnd.bind(n),n.move=n.move.bind(n),n.reorder=n.reorder.bind(n);var o=[],r=[];return n.props.initialItems.forEach(function(e,t){t===c?o=e:t===d?r=e:console.log("An item in initialItems was in neither row 1 nor row 2.")}),n.state={itemsInRow1:o,itemsInRow2:r},n}return i.b(t,e),t.prototype.render=function(){var e=this;return o.createElement(l.DragDropContext,{onDragEnd:this.onDragEnd},o.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.createElement(l.Droppable,{droppableId:c,direction:"horizontal",isCombineEnabled:!0},function(t,n){return o.createElement("div",i.a({ref:t.innerRef},t.droppableProps),o.createElement(a,null,e.state.itemsInRow1.map(function(e,t){return o.createElement(l.Draggable,{key:e.id,draggableId:e.id,index:t},function(t,n){return o.createElement("div",null,o.createElement("div",i.a({ref:t.innerRef},t.draggableProps,t.dragHandleProps),o.createElement(s,{color:e.content})),t.placeholder)})})))}),o.createElement(l.Droppable,{droppableId:d,direction:"horizontal",isCombineEnabled:!0},function(t,n){return o.createElement("div",i.a({ref:t.innerRef},t.droppableProps),o.createElement(a,null,e.state.itemsInRow2.map(function(e,t){return o.createElement(l.Draggable,{key:e.id,draggableId:e.id,index:t},function(t,n){return o.createElement("div",null,o.createElement("div",i.a({ref:t.innerRef},t.draggableProps,t.dragHandleProps),o.createElement(s,{color:e.content})),t.placeholder)})})))})))},t.prototype.onDragEnd=function(e){var t=e.source,n=e.destination;if(n)if(t.droppableId===n.droppableId){var o=this.reorder(this.getList(t.droppableId),t.index,n.index),r=i.a({},this.state);t.droppableId===c?r=i.a({},this.state,{itemsInRow1:o}):t.droppableId===d&&(r=i.a({},this.state,{itemsInRow2:o})),this.setState(r)}else{var a=this.move(this.getList(t.droppableId),this.getList(n.droppableId),t,n);this.setState({itemsInRow1:a.itemsInRow1,itemsInRow2:a.itemsInRow2})}},t.prototype.move=function(e,t,n,o){var r=e.slice(),i=t.slice(),a=r.splice(n.index,1)[0];i.splice(o.index,0,a);var s={};return n.droppableId===c?s={itemsInRow1:r,itemsInRow2:i}:n.droppableId===d&&(s={itemsInRow1:i,itemsInRow2:r}),s},t.prototype.reorder=function(e,t,n){var o=e.slice(),r=o.splice(t,1)[0];return o.splice(n,0,r),o},t.prototype.getList=function(e){return e===c?this.state.itemsInRow1:this.state.itemsInRow2},t}(o.Component),u=(n(16),n(18),function(e){function t(t){return e.call(this,t)||this}return i.b(t,e),t.prototype.render=function(){return o.createElement("div",{className:"droppableContainer"+(this.props.grey?" grey":"")},this.props.children)},t}(o.Component)),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={currentPosition:t.initialPosition},n}return i.b(t,e),t.prototype.render=function(){return o.createElement("div",{className:"tile",style:{},id:this.props.id})},t}(o.Component),m=function(e){function t(t){var n=e.call(this,t)||this,o=n.getTilePositions(n.props.initialTiles);return n.onDragEnd=n.onDragEnd.bind(n),n.state={currentTiles:n.props.initialTiles,layout:[],selectedTileKey:void 0,tilePositions:o},n}return i.b(t,e),t.prototype.render=function(){return o.createElement(l.DragDropContext,{onDragEnd:this.onDragEnd},o.createElement("div",{className:"page"},this.state.layout.map(function(e,t){return o.createElement("div",{key:t},e)})))},t.prototype.componentDidMount=function(){this.updateLayout()},t.prototype.onDragEnd=function(e){e.destination&&""!==e.destination.droppableId?e.destination.droppableId!==e.source.droppableId&&(console.log("Source: ",e.source,", Destination: ",e.destination),this.moveTile(Number(e.source.droppableId),Number(e.destination.droppableId)),console.log("moveTile() finished.")):console.log("There was no destination.")},t.prototype.moveTile=function(e,t){var n=this.state.currentTiles.get(e);if(console.log("Old position: ",e,", New Position: ",t),n&&this.state.currentTiles.delete(e)){var o=this.state.currentTiles.get(t);if(o){var r=t+1;9===r&&(r=0),this.state.currentTiles.set(r,o)}this.state.currentTiles.set(t,n),this.setState({selectedTileKey:void 0}),this.updateTilePositionsMap(),this.updateLayout()}},t.prototype.updateLayout=function(){for(var e=[],t=0;t<3;t++){for(var n=[],r=function(e){var r=(e+t)%2===0,s=e+3*t,c=a.state.currentTiles.get(s);c?n.push(o.createElement("div",{key:s},o.createElement(l.Droppable,{droppableId:String(s)},function(e){return o.createElement("div",i.a({ref:e.innerRef},e.droppableProps),o.createElement(u,{key:s,position:s,grey:r},o.createElement(l.Draggable,{draggableId:String(c.props.id),index:0},function(e){return o.createElement("div",i.a({ref:e.innerRef},e.draggableProps,e.dragHandleProps),o.createElement(h,{id:c.props.id,initialPosition:s,index:0}))})))}))):n.push(o.createElement("div",{key:s},o.createElement(l.Droppable,{droppableId:String(s)},function(e){return o.createElement("div",i.a({ref:e.innerRef},e.droppableProps),o.createElement(u,{key:s,position:s,grey:r}))})))},a=this,s=0;s<3;s++)r(s);e.push(n)}this.setState({layout:e})},t.prototype.updateTilePositionsMap=function(){var e=this.getTilePositions(this.state.currentTiles);this.setState({tilePositions:e})},t.prototype.getTilePositions=function(e){var t=new Map;return e.forEach(function(e,n){t.set(e.props.id,n)}),t},t}(o.Component),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.b(t,e),t.prototype.render=function(){var e=new Map;e.set(1,new h({id:"blue",initialPosition:1,index:0})),e.set(0,new h({id:"red",initialPosition:0,index:0}));var t=[];t.push({id:"a",content:"lightblue"}),t.push({id:"b",content:"pink"}),t.push({id:"c",content:"orange"});var n=[];n.push({id:"x",content:"yellow"}),n.push({id:"y",content:"purple"}),n.push({id:"z",content:"green"});var r=new Map;return r.set(c,t),r.set(d,n),o.createElement("div",{className:"App"},o.createElement("p",{style:{maxWidth:"600px"}},"The below example demonstrates drag-and-drop. Because this includes the patched version of react-beautiful-dnd, touch works in Edge on it. However, I'm still working on trying to get touch narrator to work--right now, if you activate a drag with touch, it won't recognize the drag if you continue with touch, however, it will recognize the drag if you continue with mouse. Very frustrating and strange."),o.createElement("p",null,"Here's how to activate touch drag (though it doesn't work):"),o.createElement("ol",null,o.createElement("li",null,"Turn on Narrator"),o.createElement("li",null,"Use touch explore to select a block (basically, touch one of the blocks until it's selected)"),o.createElement("li",null,"With another finger, double-tap outside of the block itself. You should hear a clicking sound, and if developer tools is open, a 'click' event should be logged."),o.createElement("li",null,"Try to move your finger. Observe that it doesn't drag, and instead just selects other blocks if you drag over them."),o.createElement("li",null,"Now, try moving your mouse. Observe that a drag is in process.")),o.createElement(p,{initialItems:r}),o.createElement("div",{style:{height:"50px"}}),o.createElement("p",{style:{maxWidth:"600px"}},"The below example was my initial attempt at getting an interface to work. It's not really what we're looking for, but it demonstrates how to deal with the edge case of moving a displaced tile to another area of the grid (in this case, the lower right corner to the upper left corner) when another tile is moved in its place."),o.createElement(m,{initialTiles:e}))},t}(o.Component),g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(20);r.render(o.createElement(f,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/rearrangeable-layout",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/rearrangeable-layout/service-worker.js";g?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):v(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):v(e)})}}()}],[[7,2,1]]]);
//# sourceMappingURL=main.13138938.chunk.js.map